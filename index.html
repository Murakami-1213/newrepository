<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>Google Maps API サンプル</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

</head>
<body>
<h2>一覧表示</h2>
<div id="map" style="width:620px; height:400px"></div>
        <div id="map"></div>
          lat: <span id="lat"></span><br>
          lng: <span id="lng"></span>
        <script>
            function place() {
                navigator.geolocation.getCurrentPosition(po);
            }
            function initMap() {
                // マップの初期化
                function po(position){
                    let lat = position.coords.latitude;
                    let lng = position.coords.longitude;
                }
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 13,
                    center: {lat: lat, lng: lng}
                });
                // クリックイベントを追加
                map.addListener('click', function(e) {
                    getClickLatLng(e.latLng, map);
                });
            }
            function getClickLatLng(lat_lng, map) {
                // 座標を表示
                document.getElementById('lat').textContent = lat_lng.lat();
                document.getElementById('lng').textContent = lat_lng.lng();
                // マーカーを設置
                var marker = new google.maps.Marker({
                    position: lat_lng,
                    map: map
                });
                // 座標の中心をずらす
                // http://syncer.jp/google-maps-javascript-api-matome/map/method/panTo/
                map.panTo(lat_lng);
            }
          var n = String(lat);
          var m = String(lng);
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?signed_in=true&callback=initMap" async defer></script>

</body>
</html>
